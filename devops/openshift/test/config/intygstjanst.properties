# Default configuration for all environments
store.original.certificate = true

# DB configuration
db.driver=com.mysql.jdbc.Driver
db.url=jdbc:mysql://${db.server}:${db.port}/${db.name}?useCompression=true&useSSL=false
db.httpPort=9103

# Hibernate Configuration
hibernate.dialect=org.hibernate.dialect.MySQLDialect
hibernate.hbm2ddl.auto=
hibernate.show_sql=false
hibernate.format_sql=${hibernate.show_sql}

# JMS
jms.broker.url=${activemq.amq.tcp.port}?jms.nonBlockingRedelivery=true&jms.redeliveryPolicy.maximumRedeliveries=3&jms.redeliveryPolicy.maximumRedeliveryDelay=6000&jms.redeliveryPolicy.initialRedeliveryDelay=4000&jms.redeliveryPolicy.useExponentialBackOff=true&jms.redeliveryPolicy.backOffMultiplier=2
jms.destination.queue.name=sandbox.certificate.queue

# NTjP SSL
# TODO
ntjp.ws.certificate.file =
ntjp.ws.certificate.type =PKCS12
ntjp.ws.truststore.file =
ntjp.ws.truststore.type =JKS

# Override to disable sending JMS messages to statistik-tj\u00E4nsten, since we don't have JMS connectivity in this env.
# However we want it enabled when building on jenkins since it runs the TransformToStatisticsIT integration test.
statistics.enabled = true

# Dynamic loading of identities into HSA stub
hsa.stub.additional.identities.folder=${java.io.tmpdir}

it.server=intygstjanst-route-intyg.app-ocpsbx1-ind.ocp.osl.basefarm.net
it.host.url=https://${it.server}
ntjp.base.url=${baseUrl}/inera-certificate/stubs

################################################
#
# FK-Integration Configurations
#
################################################
registercertificatev1.endpoint.url = ${ntjp.base.url}/clinicalprocess/healthcond/certificate/RegisterCertificate/1/rivtabp21
registercertificatev3.endpoint.url = ${ntjp.base.url}/clinicalprocess/healthcond/certificate/RegisterCertificate/3/rivtabp21
registermedicalcertificatev3.endpoint.url = ${ntjp.base.url}/RegisterMedicalCertificate/3/rivtabp20
revokecertificatev2.endpoint.url = ${ntjp.base.url}/clinicalprocess/healthcond/certificate/RevokeCertificate/2/rivtabp21
revokemedicalcertificatev1.endpoint.url = ${ntjp.base.url}/RevokeMedicalCertificate/1/rivtabp20
sendmedicalcertificatequestionv1.endpoint.url = ${ntjp.base.url}/SendMedicalCertificateQuestion/1/rivtabp20
sendmessagetocarev2.endpoint.url = ${ntjp.base.url}/clinicalprocess/healthcond/certificate/SendMessageToCare/2/rivtabp21
sendmessagetorecipientv2.endpoint.url = ${ntjp.base.url}/clinicalprocess/healthcond/certificate/SendMessageToRecipient/2/rivtabp21

################################################
#
# HSA-Integration Configurations
#
################################################
infrastructure.directory.authorizationmanagement.getcredentialsforpersonincludingprotectedpersonresponderinterface.endpoint.url=${ntjp.base.url}/infrastructure/directory/authorizationmanagement/GetCredentialsForPersonIncludingProtectedPerson/1/rivtabp21
infrastructure.directory.organization.getunit.endpoint.url=${ntjp.base.url}/infrastructure/directory/organization/GetUnit/1/rivtabp21
infrastructure.directory.organization.gethealthcareunit.endpoint.url=${ntjp.base.url}/infrastructure/directory/organization/GetHealthCareUnit/1/rivtabp21
infrastructure.directory.organization.gethealthcareunitmembers.endpoint.url=${ntjp.base.url}/infrastructure/directory/organization/GetHealthCareUnitMembers/1/rivtabp21
infrastructure.directory.employee.getemployee.endpoint.url=${ntjp.base.url}/infrastructure/directory/employee/GetEmployeeIncludingProtectedPerson/1/rivtabp21

################################################
#
# HSA/PU Cache (redis) configuration
#
################################################
redis.port=6379
redis.password=
redis.cache.default_entry_expiry_time_in_seconds=86400
pu.cache.expiry=86400
hsa.unit.cache.expiry=86400
hsa.healthcareunit.cache.expiry=86400
hsa.healhcareunitmembers.cache.expiry=86400

################################################
#
# Recipient update schedule
#
################################################
recipients.update.cron = 0 0 0 * * *
recipient.file = ${recipient.config.file}

# Temporary hack for mitigating fullstandigtNamn issues in ANP when sending answers.
fk7263.send.medical.certificate.answer.force.fullstandigtnamn=true
